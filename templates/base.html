<!-- Base template with common layout -->
<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>{% block title %}Lauren Shriver - Portfolio{% endblock %}</title>
        <link rel="icon" href="{{ url_for('static', filename='images/favicon.png') }}" type="image/png">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/tech_bubbles/tech_style.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/tech_bubbles/tech-icons.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/search.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/theme.css') }}">
        <link rel="stylesheet" href="{{ url_for('static', filename='css/buttons/buttons_rainbow.css') }}">
        <!-- MathJax for rendering math expressions -->
         <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
         <script id ="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
        <!-- Resolve meta tag -->
         <meta name="viewport" content="width=device-width, initial_scale=1.0, user-scalable=no">
         <script>
            window.MathJax = {
                text: {
                    inlineMath: [['\\(', '\\)']],
                    displayMath: [['\\[', '\\]']],
                    processEscapes: true,
                    processEnviornments: true
                },
                options: {
                    skipHtmlTags: [
                        'script', 'noscript', 'style', 'textarea', 'pre', 'code'
                    ],
                    ignoreHtmlClass: 'tex2jax_ignore',
                    processHtmlClass: 'tex2jax_process'
                },
                chtml: {
                    scale: 1.1,
                    adaptiveCSS: true
                },
                svg: {
                    fontCache: 'global',
                    scale: 1.1
                }
            };
         </script>
         {% block head %}{% endblock %}
         <style>
            /* Create a fixed background with pseudo-element instead of background-image */
            body {
                position: relative;
                font-family: 'Aclonica', sans-serif;
                background: none;
            }
            /* Use a pseudo-element for fixed background that works on mobile */
            body::before {
                content: "";
                position: fixed;
                top: 0;
                left: 0;
                width: 100%;
                height: 100%;
                z-index: -1;
                background-image: url("{{ url_for('static', filename='images/wisp.jpg') }}");
                background-size: cover;
                background-position: center center;
                background-repeat: no-repeat;
            }
            /* Adjust background size for mobile to be less zoomed in */
            @media (max-width: 768px) {
                body::before {
                    background-size: 1920px auto; /* Fixed width based on original image */
                    background-position: center top;
                }
            }
        
            /* Even less zoomed for very narrow screens */
            @media (max-width: 480px) {
                body::before {
                    background-size: 1600px auto; /* Slightly smaller fixed width */
                }
            }
            .container {
                max-width: 1200px;
                margin: 0 auto;
                padding: 20px;
            }
            
            /* Additional styles for math expressions */
            .math-content{
                background-color: rgba(255, 255, 255, 0.1);
                padding: 20px;
                border-radius: 10px;
                margin: 20px 0;
                backdrop-filter: blur(5px);
            }
            .math-formula {
                text-align: center;
                margin: 20px 0;
                color: whitesmoke;
            }
         </style>
    </head>
    <body>
        <div class="container" style="padding-top: 60px;">

            <header>
                {% if request.path == '/' %}
                <div style="text-align: center; margin-bottom: 2rem;">
                    <h1 class="site-title">
                        <a href="{{ url_for('home') }}" class="gradient_text2">
                            Lauren Shriver
                        </a>
                    </h1>
                    <style>
                        .site-title {
                            position: relative;
                            font-size: 2.8rem;
                            margin: 0;
                            margin-top: 30px;
                            padding: 1rem;
                            filter: drop-shadow(0 0 2px rgba(0, 0, 0, 0.7));
                        }

                        .site-title a:hover {
                            filter: brightness(1.2);
                            text-decoration: none;
                        }
                    </style>
                </div>
                {% else %}
                <div style="text-align: center; margin-bottom: 2rem;">
                    <a href="{{ url_for('home') }}" class="btn btn-notes" style="width: 200px; height: 55px; font-weight: 600; display: flex; align-items: center; justify-content: center;">
                        Back Home üè°
                    </a>
                </div>
                {% endif %}
            </header>

            <main>
                {% block content %}{% endblock %}
            </main>

            <footer style="text-align: center; margin-top: 100px; margin-bottom: 120px;">
                <p class="gradient_text2" style="opacity: 1.0; font-size: 1.1rem; padding: 10px; display: inline-block;">
                    ¬© 2025 Lauren Shriver. All rights reserved.
                </p>
            </footer>
        </div>
        
        <!-- Common script for all pages -->
         <script src="{{ url_for('static', filename='js/common.js') }}"></script>
        
        <!-- New functionality scripts -->
        <script src="{{ url_for('static', filename='js/search.js') }}"></script>
        <script src="{{ url_for('static', filename='js/copy-code.js') }}"></script>

        <!-- Page-specific scripts -->
         {% block scripts %}{% endblock %}
    </body>
</html>